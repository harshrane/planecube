<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.3/dist/aframe-extras.min.js"></script>
    <script>
      AFRAME.registerComponent('thumbstick-movement', {
        init: function () {
          this.el.addEventListener('thumbstickmoved', this.movePlayer.bind(this));
        },
        movePlayer: function (evt) {
          const player = this.el;
          const movementSpeed = 0.1; // Adjust movement speed as needed

          // Move forward/backward based on the thumbstick's vertical axis
          player.object3D.translateZ(-evt.detail.y * movementSpeed);

          // Move left/right based on the thumbstick's horizontal axis
          player.object3D.translateX(evt.detail.x * movementSpeed);
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <!-- Plane -->
      <a-plane color="gray" rotation="-90 0 0" width="10" height="10"></a-plane>

      <!-- Cubes -->
      <a-box color="red" position="-1 1 -3"></a-box>
      <a-box color="green" position="0 1 -3"></a-box>
      <a-box color="blue" position="1 1 -3"></a-box>

      <!-- Camera -->
      <a-entity id="cameraRig" position="0 1.6 0" thumbstick-movement>
        <a-camera id="camera" wasd-controls-enabled="false"></a-camera>
      </a-entity>

      <!-- Oculus Touch Controllers -->
      <a-entity oculus-touch-controls="hand: left" thumbstick-controls="movementEnabled: true; rotationSensitivity: 0.05;"></a-entity>
      <a-entity oculus-touch-controls="hand: right"></a-entity>
    </a-scene>
  </body>
</html>
