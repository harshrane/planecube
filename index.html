<!DOCTYPE html>
<html>
<head>
  <title>A-Frame Project with Oculus Quest 2 Controller Joystick Movement</title>
  <script src="https://aframe.io/releases/latest/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-oculus-quest-hands@latest"></script>
</head>
<body>
  <a-scene oculus-touch-controls>
    <a-plane color="#7BC8A4" rotation="-90 0 0" width="50" height="50"></a-plane>

    <a-entity position="-2 0.5 -2" rotation="0 45 0" scale="0.5 0.5 0.5" color="red" geometry="primitive: box"></a-entity>
    <a-entity position="2 0.5 -2" rotation="0 45 0" scale="0.5 0.5 0.5" color="green" geometry="primitive: box"></a-entity>
    <a-entity position="0 0.5 2" rotation="0 45 0" scale="0.5 0.5 0.5" color="blue" geometry="primitive: box"></a-entity>

    <a-entity camera look-controls oculus-touch-controls="hand: right">
      <script>
        const camera = this.querySelector('[camera]');
        const moveSpeed = 0.05; // Adjust move speed as needed

        this.addEventListener('gamepaddata', (evt) => {
          const gamepad = evt.detail;
          if (gamepad) {
            const joystick = gamepad.axes[0]; // Access left joystick axes
            const x = joystick[0];
            const y = joystick[1];

            const newPos = camera.object3D.position.clone();
            newPos.x += x * moveSpeed;
            newPos.z -= y * moveSpeed; // Reverse z-axis for correct movement

            camera.setAttribute('position', newPos);
          }
        });
      </script>
    </a-entity>

    <a-light type="ambient" color="#888"></a-light>
    <a-light type="directional" color="#fff" intensity="0.8" position="-3 4 3"></a-light>
  </a-scene>
</body>
</html>
